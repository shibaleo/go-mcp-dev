---
title: DSN-USR-IFC 管理UIデザイン仕様
aliases:
  - DSN-USR-IFC
  - ui-design-spec
tags:
  - MCPist
  - design
  - UI
document-type:
  - design-specification
document-class: DSN
created: 2026-01-15T00:00:00+09:00
updated: 2026-01-15T00:00:00+09:00
---
# DSN-USR-IFC: 管理UIデザイン仕様

## 1. 概要

MCPist管理UIの設計仕様。v0によるAI生成を前提とした効率的なUI構築を目指す。

### 技術スタック

| 項目 | 選定 |
|------|------|
| フレームワーク | Next.js App Router |
| UIライブラリ | shadcn/ui |
| スタイリング | Tailwind CSS |
| テーマ | ダークモード対応 |
| 生成ツール | v0 (Vercel) |

---

## 2. v0プロンプト戦略

### 2.1 効率化の原則

| 原則 | 効果 |
|------|------|
| 1プロンプトで複数画面を指定 | 往復回数削減 |
| shadcn/uiコンポーネント名を明示 | 一貫したUIパターン |
| 状態バリエーションを含める | 後から追加しない |
| admin/user出し分けを言及 | 権限分岐の実装が含まれる |
| 具体的なサービス名を列挙 | アイコン選定が的確に |

### 2.2 推奨プロンプト（初回生成用）

```
MCPサーバー管理画面。Next.js App Router + shadcn/ui + Tailwind。ダークモード対応。レスポンシブ対応。

【共通レイアウト】
- 左サイドバー: ロゴ、ナビ（Dashboard, Tools, Users, Roles, Logs）、下部にプロファイル
- admin/userでナビ項目を出し分け（Users, Roles, Logsはadminのみ）
- モバイル: サイドバーをハンバーガーメニュー（Sheet）に変換、ロゴは上部ヘッダーに移動
- タブレット: サイドバーはアイコンのみ表示（折りたたみ状態）、ホバーで展開

【ページ1: /tools（ツール一覧）】
- カード形式でサービス表示（Google Calendar, Notion, GitHub, Zaim, freee等）
- 各カードに: アイコン、サービス名、連携状態バッジ（緑=連携済/黄=未連携/グレー=権限なし）
- 連携済み→「解除」ボタン、未連携→「連携する」ボタン
- 権限なしサービスは折りたたみセクション「利用できないツール（N件）」
- 展開するとグレーアウト表示+「利用を申請」ボタン
- レスポンシブ: デスクトップ3列、タブレット2列、モバイル1列

【ページ2: /users（ユーザー管理）adminのみ】
- Tableコンポーネント: 名前、メール、ロール（複数Badge）、最終ログイン
- 行クリックで右パネル（Sheet）が開く
- パネル内にTabs: 基本情報 / ロール割当
- ロール割当タブ: 現在のロール一覧、追加用Combobox
- モバイル: Tableをカード形式に変換、各ユーザーを縦積みカードで表示

【ページ3: /roles（ロール管理）adminのみ】
- ロール一覧Table + 「新規作成」ボタン
- 行クリックで右パネル、Tabs: 基本情報 / 権限設定 / サービス設定
- 権限設定: ツールごとのチェックボックス
- サービス設定: Client ID/Secret入力フォーム、認証方式選択（OIDC推奨/OAuth/APIキー）
- モバイル: Tableをカード形式に変換、Sheetはフルスクリーンモーダルに

【モーダル: 個人アカウント連携】
- Dialog: サービスアイコン、説明文、「Googleでログイン」等のボタン
- 連携完了後は成功メッセージ
- モバイル: Dialogはフルスクリーン表示

全画面shadcn/uiのCard, Table, Sheet, Dialog, Tabs, Badge, Button, Input, Combobox, Checkbox使用。
```

### 2.3 微調整用プロンプト（スクリーンショット経由）

v0出力 → Figma/Stitchで微調整 → スクリーンショット → v0に再投入：

```
この画像のUIを再現してください。Next.js + shadcn/ui + Tailwind。
以下を変更:
- サイドバーの幅を240pxに
- カードの角丸を大きく（rounded-xl）
- バッジの色を緑=#22c55e、黄=#eab308に
```

---

## 3. レスポンシブ設計

### 3.1 ブレークポイント

| 名称 | 幅 | Tailwindプレフィックス | 対象デバイス |
|------|-----|----------------------|-------------|
| Mobile | 0-639px | (default) | スマートフォン |
| Tablet | 640-1023px | `sm:`, `md:` | タブレット |
| Desktop | 1024px+ | `lg:`, `xl:` | PC |

### 3.2 デバイス別レイアウト

**デスクトップ (1024px+)**
```
┌────────────┬────────────────────────────────────────────┐
│            │                                            │
│  Sidebar   │              Main Content                  │
│  (240px)   │                                            │
│            │                                            │
└────────────┴────────────────────────────────────────────┘
```

**タブレット (640-1023px)**
```
┌──────┬──────────────────────────────────────────────────┐
│      │                                                  │
│ Icon │              Main Content                        │
│ Only │                                                  │
│(64px)│                                                  │
└──────┴──────────────────────────────────────────────────┘
  ↑ ホバーで展開
```

**モバイル (0-639px)**
```
┌──────────────────────────────────────────────────────────┐
│ [≡]  MCPist                                    [Avatar] │  ← Header
├──────────────────────────────────────────────────────────┤
│                                                          │
│                    Main Content                          │
│                                                          │
│                                                          │
└──────────────────────────────────────────────────────────┘

[≡] タップで Sheet が左から出現
```

### 3.3 コンポーネント別レスポンシブ対応

| コンポーネント | デスクトップ | タブレット | モバイル |
|--------------|-------------|-----------|---------|
| **Sidebar** | 固定表示(240px) | アイコンのみ(64px) | ハンバーガー→Sheet |
| **カードグリッド** | 3列 | 2列 | 1列 |
| **Table** | 通常表示 | 横スクロール | カード形式に変換 |
| **Sheet(パネル)** | 右から33%幅 | 右から50%幅 | フルスクリーン |
| **Dialog** | 中央モーダル | 中央モーダル | フルスクリーン |
| **Tabs** | 横並び | 横並び | スクロール可能 |

### 3.4 モバイル用Table→Card変換

デスクトップ（Table）:
```
┌────────────────────────────────────────────────────────┐
│ 名前           │ メール              │ ロール    │ 最終 │
├────────────────────────────────────────────────────────┤
│ 田中太郎       │ tanaka@example.com  │ Admin     │ 1h前 │
│ 山田花子       │ yamada@example.com  │ Editor    │ 2d前 │
└────────────────────────────────────────────────────────┘
```

モバイル（Card形式）:
```
┌──────────────────────────────────┐
│ 田中太郎                    [→] │
│ tanaka@example.com              │
│ [Admin]  •  最終ログイン: 1h前   │
└──────────────────────────────────┘
┌──────────────────────────────────┐
│ 山田花子                    [→] │
│ yamada@example.com              │
│ [Editor]  •  最終ログイン: 2d前  │
└──────────────────────────────────┘
```

### 3.5 実装パターン

**カードグリッド:**
```tsx
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
  {services.map(service => <ServiceCard key={service.id} />)}
</div>
```

**Table/Card切り替え:**
```tsx
{/* デスクトップ: Table */}
<div className="hidden md:block">
  <Table>...</Table>
</div>

{/* モバイル: Card */}
<div className="md:hidden space-y-3">
  {users.map(user => <UserCard key={user.id} />)}
</div>
```

**Sheet幅:**
```tsx
<Sheet>
  <SheetContent className="w-full sm:w-1/2 lg:w-1/3">
    ...
  </SheetContent>
</Sheet>
```

**モバイルフルスクリーンDialog:**
```tsx
<Dialog>
  <DialogContent className="sm:max-w-md max-sm:h-full max-sm:max-w-full max-sm:rounded-none">
    ...
  </DialogContent>
</Dialog>
```

---

## 4. 画面設計

### 4.1 共通レイアウト

```
┌──────────────────────────────────────────────────────────────┐
│ ┌────────────┐ ┌──────────────────────────────────────────┐ │
│ │            │ │                                          │ │
│ │  Sidebar   │ │              Main Content                │ │
│ │            │ │                                          │ │
│ │  - Logo    │ │                                          │ │
│ │  - Nav     │ │                                          │ │
│ │            │ │                                          │ │
│ │            │ │                                          │ │
│ │            │ │                                          │ │
│ │ ────────── │ │                                          │ │
│ │  Profile   │ │                                          │ │
│ └────────────┘ └──────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────┘
```

**サイドバー仕様:**

| 項目 | 仕様 |
|------|------|
| 幅 | 240px（固定） |
| ナビ項目 | アイコン + ラベル |
| admin専用項目 | Users, Roles, Logs |
| 下部 | プロファイルアバター + 名前 |

**ナビゲーション項目:**

| 項目 | パス | アイコン | 権限 |
|------|------|---------|------|
| Dashboard | `/` | LayoutDashboard | all |
| Tools | `/tools` | Wrench | all |
| Users | `/users` | Users | admin |
| Roles | `/roles` | Shield | admin |
| Logs | `/logs` | FileText | admin |

### 4.2 /tools（ツール一覧）

**レイアウト:**

```
┌──────────────────────────────────────────────────────────────┐
│ Tools                                                        │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐            │
│  │ 📅          │ │ 📝          │ │ 🐙          │            │
│  │ Google      │ │ Notion      │ │ GitHub      │            │
│  │ Calendar    │ │             │ │             │            │
│  │ [連携済 ✓]  │ │ [未連携]    │ │ [連携済 ✓]  │            │
│  │             │ │             │ │             │            │
│  │ [解除]      │ │ [連携する]  │ │ [解除]      │            │
│  └─────────────┘ └─────────────┘ └─────────────┘            │
│                                                              │
│  ┌─────────────┐ ┌─────────────┐                            │
│  │ 💰          │ │ 📊          │                            │
│  │ Zaim        │ │ freee       │                            │
│  │             │ │             │                            │
│  │ [未連携]    │ │ [未連携]    │                            │
│  │             │ │             │                            │
│  │ [連携する]  │ │ [連携する]  │                            │
│  └─────────────┘ └─────────────┘                            │
│                                                              │
│  ▼ 利用できないツール（3件）                                  │
│  ┌──────────────────────────────────────────────────────┐   │
│  │ [グレー] Slack          [利用を申請]                  │   │
│  │ [グレー] Jira           [利用を申請]                  │   │
│  │ [グレー] Confluence     [利用を申請]                  │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

**連携状態バッジ:**

| 状態 | 色 | Tailwindクラス | 表示 |
|------|-----|---------------|------|
| 連携済 | 緑 | `bg-green-500` | ✓ 連携済 |
| 未連携 | 黄 | `bg-yellow-500` | 未連携 |
| 権限なし | グレー | `bg-gray-400` | - |

**shadcn/uiコンポーネント:**
- Card（サービスカード）
- Badge（連携状態）
- Button（連携する/解除）
- Collapsible（利用できないツール）

### 4.3 /users（ユーザー管理）

**レイアウト:**

```
┌──────────────────────────────────────────────────────────────┐
│ Users                                         [+ ユーザー追加]│
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │ 名前           │ メール              │ ロール    │ 最終 │ │
│  ├────────────────────────────────────────────────────────┤ │
│  │ 田中太郎       │ tanaka@example.com  │ Admin     │ 1h前 │ │
│  │ 山田花子       │ yamada@example.com  │ Editor    │ 2d前 │ │
│  │ 鈴木一郎       │ suzuki@example.com  │ Viewer    │ 5d前 │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
└──────────────────────────────────────────────────────────────┘

                                    ┌─────────────────────────┐
                                    │ Sheet (右パネル)         │
                                    ├─────────────────────────┤
                                    │ 田中太郎                 │
                                    │ tanaka@example.com      │
                                    │                         │
                                    │ [基本情報] [ロール割当]  │
                                    │ ─────────────────────── │
                                    │                         │
                                    │ 現在のロール:           │
                                    │ [Admin ×] [Editor ×]   │
                                    │                         │
                                    │ ロール追加:             │
                                    │ [Viewer      ▼] [追加] │
                                    │                         │
                                    └─────────────────────────┘
```

**shadcn/uiコンポーネント:**
- Table（ユーザー一覧）
- Sheet（詳細パネル）
- Tabs（基本情報/ロール割当）
- Badge（ロール表示）
- Combobox（ロール追加）

### 4.4 /roles（ロール管理）

**レイアウト:**

```
┌──────────────────────────────────────────────────────────────┐
│ Roles                                           [+ 新規作成] │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │ ロール名       │ 説明                    │ ユーザー数  │ │
│  ├────────────────────────────────────────────────────────┤ │
│  │ Admin          │ 全権限                  │ 2           │ │
│  │ Editor         │ 編集権限                │ 5           │ │
│  │ Viewer         │ 閲覧のみ                │ 10          │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
└──────────────────────────────────────────────────────────────┘

                    ┌─────────────────────────────────────────┐
                    │ Sheet (右パネル)                         │
                    ├─────────────────────────────────────────┤
                    │ Editor                                   │
                    │                                          │
                    │ [基本情報] [権限設定] [サービス設定]      │
                    │ ─────────────────────────────────────── │
                    │                                          │
                    │ 【権限設定タブ】                          │
                    │ ┌─────────────────────────────────────┐ │
                    │ │ Google Calendar                      │ │
                    │ │ ☑ list_events                       │ │
                    │ │ ☑ create_event                      │ │
                    │ │ ☐ delete_event                      │ │
                    │ └─────────────────────────────────────┘ │
                    │ ┌─────────────────────────────────────┐ │
                    │ │ Notion                               │ │
                    │ │ ☑ search_pages                      │ │
                    │ │ ☐ create_page                       │ │
                    │ └─────────────────────────────────────┘ │
                    │                                          │
                    │ 【サービス設定タブ】                      │
                    │ プロバイダ: [Notion           ▼]        │
                    │                                          │
                    │ 認証方式:  ● OAuth 2.0 (推奨)           │
                    │            ○ APIキー                    │
                    │                                          │
                    │ Client ID:     [__________________]     │
                    │ Client Secret: [__________________]     │
                    │                                          │
                    │ [テスト接続]  [保存]                     │
                    └─────────────────────────────────────────┘
```

**shadcn/uiコンポーネント:**
- Table（ロール一覧）
- Sheet（詳細パネル）
- Tabs（基本情報/権限設定/サービス設定）
- Checkbox（権限選択）
- Select（プロバイダ選択）
- RadioGroup（認証方式）
- Input（Client ID/Secret）

### 4.5 個人アカウント連携モーダル

**レイアウト:**

```
┌─────────────────────────────────────────────┐
│                    ×                        │
│                                             │
│              [Google Icon]                  │
│                                             │
│         Google Calendar 連携                │
│                                             │
│    あなたのGoogleアカウントと連携して、      │
│    カレンダーの予定を管理できるように        │
│    します。                                 │
│                                             │
│    ┌─────────────────────────────────────┐ │
│    │     [G] Googleでログイン             │ │
│    └─────────────────────────────────────┘ │
│                                             │
│    連携すると以下の操作が可能になります:    │
│    • 予定の一覧表示                         │
│    • 予定の作成                             │
│    • 予定の更新・削除                       │
│                                             │
└─────────────────────────────────────────────┘
```

**shadcn/uiコンポーネント:**
- Dialog
- Button（ソーシャルログイン風）

---

## 5. デザイントークン

### 5.1 カラーパレット

| 用途 | Light | Dark | Tailwindクラス |
|------|-------|------|---------------|
| 背景 | white | zinc-950 | `bg-background` |
| カード | zinc-50 | zinc-900 | `bg-card` |
| テキスト | zinc-950 | zinc-50 | `text-foreground` |
| ミュート | zinc-500 | zinc-400 | `text-muted-foreground` |
| ボーダー | zinc-200 | zinc-800 | `border-border` |
| アクセント | blue-600 | blue-500 | `bg-primary` |
| 成功 | green-500 | green-400 | `bg-green-500` |
| 警告 | yellow-500 | yellow-400 | `bg-yellow-500` |
| エラー | red-500 | red-400 | `bg-destructive` |

### 5.2 タイポグラフィ

| 用途 | サイズ | ウェイト | クラス |
|------|--------|---------|--------|
| ページタイトル | 24px | bold | `text-2xl font-bold` |
| セクションタイトル | 18px | semibold | `text-lg font-semibold` |
| カードタイトル | 16px | medium | `text-base font-medium` |
| 本文 | 14px | normal | `text-sm` |
| キャプション | 12px | normal | `text-xs text-muted-foreground` |

### 5.3 スペーシング

| 用途 | サイズ | クラス |
|------|--------|--------|
| ページパディング | 24px | `p-6` |
| カード間 | 16px | `gap-4` |
| セクション間 | 32px | `space-y-8` |
| 要素間（小） | 8px | `gap-2` |

### 5.4 角丸

| 用途 | サイズ | クラス |
|------|--------|--------|
| カード | 12px | `rounded-xl` |
| ボタン | 8px | `rounded-lg` |
| バッジ | 9999px | `rounded-full` |
| 入力フィールド | 6px | `rounded-md` |

---

## 5. 使用するshadcn/uiコンポーネント一覧

| コンポーネント | 用途 |
|--------------|------|
| **Button** | アクション |
| **Card** | サービスカード、情報カード |
| **Table** | ユーザー一覧、ロール一覧 |
| **Sheet** | 詳細パネル（右から出現） |
| **Dialog** | モーダル（連携、確認） |
| **Tabs** | パネル内のタブ切り替え |
| **Badge** | ステータス表示、ロール表示 |
| **Input** | テキスト入力 |
| **Select** | ドロップダウン選択 |
| **Combobox** | 検索可能なドロップダウン |
| **Checkbox** | 複数選択（権限設定） |
| **RadioGroup** | 単一選択（認証方式） |
| **Collapsible** | 折りたたみセクション |
| **Avatar** | プロファイル画像 |
| **Separator** | 区切り線 |
| **Skeleton** | ローディング |
| **Toast** | 通知 |

---

## 7. ワークフロー

### 7.1 初回生成

```
1. v0にセクション2.2のプロンプトを投入
2. 生成されたコードをNext.jsプロジェクトに統合
3. 動作確認
```

### 7.2 微調整が必要な場合

```
1. v0の出力をスクリーンショット
2. Figma or Google Stitchにインポート
3. 手動で微調整（色、スペーシング、レイアウト）
4. スクリーンショット撮影
5. v0に画像 + セクション2.3のプロンプトを投入
6. 再生成されたコードを統合
```

### 7.3 ツール選択ガイド

| 目的 | ツール |
|------|--------|
| 初期生成 | v0 |
| 色・フォント微調整 | Figma or Stitch |
| レイアウト大幅変更 | Figma |
| コード再生成 | v0（画像入力） |

---

## 7. 参考資料

- [v0 by Vercel](https://v0.app/)
- [shadcn/ui](https://ui.shadcn.com/)
- [Google Stitch](https://stitch.withgoogle.com/)
- [Figma](https://www.figma.com/)
- [Tailwind CSS](https://tailwindcss.com/)

---

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2026-01-15 | 初版作成。v0プロンプト戦略、画面設計、デザイントークンを定義 |

tt